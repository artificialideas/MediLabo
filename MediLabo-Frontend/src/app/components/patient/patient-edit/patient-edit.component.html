<h2>Patient edit</h2>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item active" aria-current="page">
        <a [routerLink]="['']" title="Return to patients list">Return to patients list</a>
    </li>
    </ol>
</nav>

<form class="container row" *ngIf="patient" [formGroup]="editPatientForm" (submit)="processRegister()">
    <div class="col">
        <div class="form-group row">
            <p class="my-0">Risk status: <strong>{{ patient.risk }}</strong></p>
        </div>
        <div class="form-group row">
            <label for="firstName" class="col-sm-2 col-form-label">Firstname</label>
            <mat-form-field class="col-sm-10" appearance="outline">
                <input matInput
                    type="text"
                    id="firstName"
                    formControlName="firstName"
                    class="form-control" readonly>
            </mat-form-field>
        </div>
        <div class="form-group row">
            <label for="lastName" class="col-sm-2 col-form-label">Lastname</label>
            <mat-form-field class="col-sm-10" appearance="outline">
                <input matInput
                    type="text"
                    id="lastName"
                    formControlName="lastName"
                    class="form-control" readonly>
            </mat-form-field>
        </div>

        <div class="form-group row">
            <label for="birthdate" class="col-sm-2 col-form-label">Birthdate</label>
            <mat-form-field class="col-sm-10" appearance="outline">
                <input matInput
                    type="text"
                    id="birthdate"
                    formControlName="birthdate"
                    class="form-control" readonly>
            </mat-form-field>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Gender</label>
            <mat-radio-group class="col-sm-10"
                id="gender"
                formControlName="gender">
                <mat-radio-button value="M" required>
                    Male
                </mat-radio-button><br/>
                <mat-radio-button value="F" required>
                    Female
                </mat-radio-button>
            </mat-radio-group>
        </div>
        <div class="form-group row">
            <label for="phoneNumber" class="col-sm-2 col-form-label">Phone number</label>
            <mat-form-field class="col-sm-10" appearance="outline">
                <input matInput
                    type="text"
                    id="phoneNumber"
                    formControlName="phoneNumber"
                    class="form-control"
                    placeholder="+33 (0)X XX XX XX XX">
            </mat-form-field>
        </div>
        <div class="form-group row">
            <label for="address" class="col-sm-2 col-form-label">Address</label>
            <mat-form-field class="col-sm-10" appearance="outline">
                <input matInput
                    type="text"
                    id="address"
                    formControlName="address"
                    class="form-control"
                    placeholder="Address">
            </mat-form-field>
        </div>
    </div>

    <div class="col d-flex right-col">
        <app-note-list
            [patient]="patient"></app-note-list>
        
        <div class="action-buttons mt-4">
            <button mat-button
                    class="btn btn-light"
                    (click)="goToList()"
                    type="button">
                Cancel
            </button>
            <button mat-button
                    class="btn btn-primary"
                    type="submit">
                Submit form
            </button>
        </div>
    </div>
</form>
